<!doctype html>
<html lang="en">

<head>

    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <link href="https://fonts.googleapis.com/css?family=Poppins:300,400,500,600,700,800,900" rel="stylesheet">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
    <link rel="stylesheet" href="/css/style.css">
    <link rel="stylesheet" href="/css/estilos.css">
    <link rel="stylesheet" href="https://necolas.github.io/normalize.css/8.0.1/normalize.css">
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap" rel="stylesheet">

</head>

<body>
    <div class="wrapper d-flex align-items-stretch">
        <nav id="sidebar">
            <div class="p-4 pt-5">
                <a href="/" class="img logo rounded-circle mb-5" style="background-image: url(/img/session.png"></a>
                <ul class="list-unstyled components mb-5">
                    <li> <a href="/">HOME</a></li>
                    <li> <a href="registrarPersonal">Registrar Personal</a></li>
                    <li> <a href="registrarUsuario">Registrar Usuario</a></li>
                    <li><a href="logout" id="btn2">Cerrar Sesión</a></li>
                </ul>
            </div>
        </nav>

        <!-- Page Content  -->
        <div id="content" class="p-4 p-md-5 text-center">
            <main class="form-signin">
                
                <form action="/actualizarPersonal/<%= user.id_persona %>" method="POST" id="formulario">
                    <img class="mb-4" src="/img/session.png" alt="" width="72" height="57">
                    <h1 class="h3 mb-3 fw-normal">Modificar Personal</h1>

                      <!-- Grupo: id_personal -->
                      <div class="form-floating formulario__grupo" id="grupo__id_persona">
                        
                        <div class="formulario__grupo-input">
                            <input type="text" class="form-control" id="id_personal" name="id_personal"
                            value="<%= user.id_persona %>" hidden>
                            <i class="formulario__validacion-estado fas fa-times-circle"></i>
                        </div>
                        <p class="formulario__input-error">El nombre tiene que ser de 4 a 16 dígitos y solo puede
                            contener letras.</p>
                    </div>
                    <!-- Grupo: Nombre -->
                    <div class="form-floating formulario__grupo" id="grupo__nombre">
                        <label for="nombre" class="formulario__label">Nombre</label>
                        <div class="formulario__grupo-input">
                            <input type="text" class="form-control" id="nombre" name="nombre"
                            value="<%= user.nombre %>">
                            <i class="formulario__validacion-estado fas fa-times-circle"></i>
                        </div>
                        <p class="formulario__input-error">El nombre tiene que ser de 4 a 16 dígitos y solo puede
                            contener letras.</p>
                    </div>

                    <!-- Grupo: Apellido -->
                    <div class="formulario__grupo" id="grupo__apellido">
                        <label for="apellido" class="formulario__label">Apellido </label>
                        <div class="formulario__grupo-input">
                            <input type="text" class="form-control formulario__input" id="apellido" name="apellido"
                            value="<%= user.apellido %>">
                            <i class="formulario__validacion-estado fas fa-times-circle"></i>
                        </div>
                        <p class="formulario__input-error">El apellido tiene que ser de 4 a 16 dígitos y solo puede
                            letras.</p>
                    </div>

                    <!-- Grupo: Correo Electronico -->
                    <div class="form-floating formulario__grupo" id="grupo__correo">
                        <label for="correo" class="formulario__label">Correo</label>
                        <div class="formulario__grupo-input">
                            <input type="email" class="form-control" id="correo" name="correo"
                            value="<%= user.correo %>">
                            <i class="formulario__validacion-estado fas fa-times-circle"></i>
                        </div>
                        <p class="formulario__input-error">El correo solo puede contener letras, numeros, puntos,
                            guiones y guion bajo.</p>
                    </div>

                    <br>
                    <div class="formulario__mensaje" id="formulario__mensaje">
                        <p><i class="fas fa-exclamation-triangle"></i> <b>Error:</b> Por favor rellena el formulario
                            correctamente. </p>
                    </div>
                    <br>

                    <div>
                        <button id="registrar" disabled type="submit" class="btn btn-success ">Actualizar</button>
                        <p class="formulario__mensaje-exito" id="formulario__mensaje-exito">¨Personal Actualizado                           exitosamente!</p>
                        <a href="/" class="btn btn-dark">Cancelar</a>
                    </div>
                </form>
            </main>
        </div>
    </div>

    <script src="https://kit.fontawesome.com/2c36e9b7b1.js" crossorigin="anonymous"></script>
    <script src="/js/validaciones.js"></script>
    <script src="//cdn.jsdelivr.net/npm/sweetalert2@11"></script>
    
    <% if(locals.alert) { %>
        <script>
            Swal.fire({
                title: '<%= alertTitle %>',
                text:'<%= alertMessage %>',
                icon:'<%= alertIcon %>',
                showConfirmButton: <%= showConfirmButton %>,
                timer: <%= timer %>
            }).then(()=>{
                window.location = '<%= ruta %>'
            })
        </script>
        <% } %>
          
</body>


</html>


